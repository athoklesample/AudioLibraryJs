(function(a,b,c,d){a.widget("Mashup.audioControl",a.ui.mouse,{options:{sample:null,sliderThumbId:null},_create:function(){this._mouseInit(),this.options.sliderThumbId=this.element.attr("id"),this.vertical=!a(this.element).parent().parent().hasClass("horizontal"),this.track=this.element.siblings(".slider-track"),this.vertical?(this.trackMinTop=this.track.position().top,this.trackMaxTop=this.track.height()+this.trackMinTop-this.element.height()/2):(this.trackMinLeft=this.track.position().left,this.trackMaxLeft=this.track.width()+this.trackMinLeft-this.element.width()/2)},_mouseStart:function(a){this.vertical?(this.originalMousePosition=a.pageY,this.originalTop=parseInt(this.element.css("top").replace("px",""))):(this.originalMousePosition=a.pageX,this.originalLeft=parseInt(this.element.css("left").replace("px","")))},_mouseDrag:function(a){var b;if(this.vertical){var c=this.originalMousePosition-a.pageY,d=this.originalTop-c;d<=this.trackMinTop?d=this.trackMinTop:d>=this.trackMaxTop&&(d=this.trackMaxTop),this.element.css("top",d),b=1-d/(this.trackMaxTop-this.trackMinTop)}else{var c=this.originalMousePosition-a.pageX,e=this.originalLeft-c;e<=this.trackMinLeft?e=this.trackMinLeft:e>=this.trackMaxLeft&&(e=this.trackMaxLeft),this.element.css("left",e),b=1-e/(this.trackMaxLeft-this.trackMinLeft)}this.options.sample!==null&&this.options.sample.audioSampleGraphical("option",this.options.sliderThumbId,b)},_setOption:function(a,b){switch(a){case"someValue":break;default:this.options[a]=b}this._super("_setOption",a,b)},sliderSetPosition:function(b){if(this.vertical){var c=(1-b)*(this.trackMaxTop-this.trackMinTop);this.element.css("top",c);var d=(a(this.element).parent().width()-28)/2;a(this.element).css("left",d)}else{var e=(1-b)*(this.trackMaxLeft-this.trackMinLeft);this.element.css("left",e)}},_destroy:function(){}})})(jQuery,window,document)